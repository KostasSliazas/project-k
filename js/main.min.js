!function(){"use strict";const blockDefaults="width:140px;height:60px;left:290px;top:10px;,width:180px;height:60px;left:10px;top:10px;,width:100px;height:60px;left:190px;top:10px;,width:80px;height:60px;left:470px;top:50px;,width:80px;height:60px;left:470px;top:110px;,width:140px;height:40px;left:220px;top:450px;,width:190px;height:140px;left:360px;top:430px;,width:220px;height:40px;left:200px;top:170px;,width:210px;height:100px;left:260px;top:70px;,width:130px;height:40px;left:420px;top:170px;,width:190px;height:160px;left:360px;top:270px;,width:190px;height:60px;left:360px;top:210px;,width:250px;height:50px;left:10px;top:70px;,width:250px;height:50px;left:10px;top:120px;,width:160px;height:160px;left:200px;top:450px;,width:160px;height:240px;left:200px;top:210px;,width:140px;height:80px;left:220px;top:490px;,width:190px;height:350px;left:10px;top:220px;,width:160px;height:260px;left:590px;top:70px;,width:190px;height:50px;left:10px;top:170px;,width:120px;height:60px;left:430px;top:10px;",textAreaDefaults="Good day. How may I assist you? You have the ability to reposition these blocks by selecting and holding the left corner at your desired location or by pressing ` on keyboard, or double-click to minimize them. Additionally, you can customize the theme, colors, and background image to your liking. You are free to tailor this interface to your preferences.",copyToClipboard=str=>{const el=document.createElement("textarea");el.value=str,el.setAttribute("readonly",""),el.style.position="absolute",el.style.left="-9999px",document.body.appendChild(el);const selected=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);el.select(),document.execCommand("copy"),document.body.removeChild(el),selected&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(selected))},getElms=[...document.getElementsByTagName("button"),...document.getElementsByTagName("a")];class ClickHandler{constructor(){this.clicked=!1}async buttonClicker(e){if(!0===this.clicked)return e.preventDefault(),void e.stopImmediatePropagation();this.clicked=!0,await this.delay(500),this.clicked=!1}delay(ms){return new Promise(resolve=>setTimeout(resolve,ms))}}const clickHandler=new ClickHandler;getElms.forEach(element=>element.addEventListener("click",e=>clickHandler.buttonClicker(e)));const getValueOfStorage=function(){return JSON.parse(localStorage.getItem(this))};var online=navigator.onLine;const styles=["width","height","left","top"];function getStyles(){let styleValues="";return movable.forEach(e=>{styles.forEach(value=>styleValues+=`${value}:${e.style[value]};`),styleValues+=","}),styleValues}const movable=Array.from(document.getElementsByClassName("movable")),delay=ms=>new Promise(resolve=>setTimeout(resolve,ms)),roundToTenWidth=num=>10*Math.ceil(num/10),mouseMoves=async(z,e)=>{delay(500),e.style.left=roundToTenWidth(z.clientX)-10+"px",e.style.top=roundToTenWidth(z.clientY)-10+"px"};function getOffset(el){const rect=el.getBoundingClientRect();return{left:rect.left+window.scrollX,top:rect.top+window.scrollY}}let moving=!1,target=null;const loopElem=()=>{movable.forEach(async e=>{function findParent(element,className){let currentElement=element;for(;currentElement&&!currentElement.classList.contains(className);)if(currentElement=currentElement.parentNode,"body"===currentElement.tagName.toLowerCase())return null;return currentElement}await setTimeout(function(){this.style.left=roundToTenWidth(getOffset(this).left)+"px",this.style.top=roundToTenWidth(getOffset(this).top)+"px"}.bind(e),0),await setTimeout(function(){e.style.position="fixed"}.bind(e),0),await setTimeout(function(){this.style.width=roundToTenWidth(this.offsetWidth)+"px"}.bind(e),0),await setTimeout(function(){this.style.height=roundToTenWidth(this.offsetHeight)+"px"}.bind(e),0),e.addEventListener("dblclick",e=>{if(e.target.classList.contains("movable")){const index=movable.indexOf(e.target);let array=JSON.parse(localStorage.getItem("elementClass"))||[];return e.target.classList.contains("minimized")?(e.target.classList.remove("minimized"),array=array.filter(item=>item!==index),setTimeout(()=>{e.target.style.width="auto",e.target.style.height="auto"},0),setTimeout(()=>{e.target.style.width=roundToTenWidth(e.target.offsetWidth)+"px"},5),setTimeout(()=>{e.target.style.height=roundToTenWidth(e.target.offsetHeight)+"px"},7)):e.target.classList.contains("movable")&&(e.target.classList.add("minimized"),array.push(index)),localStorage.setItem("elementClass",JSON.stringify(array))}}),e.addEventListener("mousedown",(async function(e){e.target===this&&(moving=!0),null!==target&&(target.style.zIndex="auto"),target=this,target.style.zIndex=1,await delay(200),moving&&this.classList.add("mousedown")}))})};document.addEventListener("mouseup",()=>{moving=!1,target&&(setStyles(),target.classList.remove("mousedown"))}),document.addEventListener("mousemove",z=>{null!==target&&target.classList.contains("movable")&&moving&&mouseMoves(z,target)});class Clock{constructor(clockElementId){this.clockElement=document.getElementById(clockElementId)}formatTimeUnit(unit){return unit<10?`0${unit}`:unit}getCurrentTime(){const day=new Date;return{m:this.formatTimeUnit(day.getMinutes()),s:this.formatTimeUnit(day.getSeconds()),h:this.formatTimeUnit(day.getHours())}}updateClock(){const{h:h,m:m,s:s}=this.getCurrentTime();this.clockElement.textContent=[h,m,s].join(":")}startTime(){this.updateClock(),setInterval(()=>this.updateClock(),1e3)}}function showDate(){let d=new Date,formatter;return Intl.DateTimeFormat("lt-LT",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(d).slice(0,10)}const api_url="https://api.open-meteo.com/v1/forecast?latitude=55.7068&longitude=21.1391&hourly=temperature_2m";async function getAll(url){const response=await fetch(url);var data=await response.json();if(!response||!data)return!1;localStorage.setItem("statsData",JSON.stringify(data.hourly.temperature_2m))}function reduceValuesDynamically(arr,max){if(0===arr.length)return arr;const maxInArray=Math.max(...arr.map(value=>Math.abs(value))),percentage=maxInArray>max?(maxInArray-max)/maxInArray*100:0,factor=1-percentage/100,resultArray=arr.map(value=>Math.min(value*factor,max));return resultArray}function stats(data){const stats=document.querySelector("#stats");if(!data)return stats.innerText="???";const main=document.querySelector(".svg-holder");data.length=25;const arrayConverted=reduceValuesDynamically(data.map(e=>10*e.toFixed(2)),20),svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("version","1.1"),svg.setAttribute("viewBox","0 0 100 40"),svg.setAttribute("xmlns","http://www.w3.org/2000/svg");let space=0;for(let i=0;i<arrayConverted.length;i++){const result=(arrayConverted[i],20-arrayConverted[i]),fixed=result.toFixed(2),path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("d","M"+space+","+fixed+" V 20"),path.setAttribute("stroke-width","3"),path.setAttribute("width","4"),path.setAttribute("data-value",data[i]),svg.appendChild(path),space+=4}main.appendChild(svg);const output=data[0]+" C";main.addEventListener("mouseover",(function(e){"path"===e.target.tagName&&(stats.style.display="block",stats.innerText=e.target.getAttribute("data-value")+" C")})),main.addEventListener("mouseout",()=>stats.innerText=output),stats.innerText=output}function applyStyles(){let classes=[];if(null!==localStorage.getItem("elementClass")&&(classes=JSON.parse(localStorage.getItem("elementClass"))),null===localStorage.getItem("elementStyles"))return;const getStyle=localStorage.getItem("elementStyles").split(",");for(let i=0;i<movable.length;i++)movable[i].style=getStyle[i],movable[i].style.position="fixed",classes.includes(movable.indexOf(movable[i]))&&movable[i].classList.add("movable","minimized")}function setStyles(){localStorage.setItem("elementStyles",getStyles())}function setTimeStamp(interval){const currentDate=Math.abs(((new Date).getTime()/1e3).toFixed(0));if(null!==localStorage.getItem("timeStamp")){const futureDate=localStorage.getItem("timeStamp"),difference=currentDate-futureDate,minutes=Math.floor(difference/60)%60;if(minutes<=interval)return!1}return localStorage.setItem("timeStamp",currentDate),!0}const root=document.documentElement,random=(min,max)=>Math.floor(Math.random()*(max-min))+min;var arrayHelper;const classNameVariables=[0,"a","b","c","d","e","f"],THEME_CHANGE=function(){var ob={};return ob.value=ob.full=this.length,ob.increment=function(){this.value=this.value?--this.value:this.full-1},ob.decrement=function(){this.value=this.value<this.full-1?++this.value:0},ob}.call(classNameVariables),changerClass=e=>{e?root.className=classNameVariables[e]:root.removeAttribute("class")},loops=async(pos,val)=>{const selected=Array.from(document.getElementsByName("move")).filter(e=>e.checked)[0].value;movable.forEach(e=>{"moves"!==e.id&&(e.style[pos]=parseInt(e.style[pos])+val*selected+"px")}),await delay(300),await setStyles()};root.addEventListener("click",e=>{const target=e.target.id;"gt"===target&&THEME_CHANGE.decrement(),"lt"===target&&THEME_CHANGE.increment(),"lt"!==target&&"gt"!==target||(e.preventDefault(),changerClass(THEME_CHANGE.value),localStorage.setItem("theme",THEME_CHANGE.value),setColors()),"left"===target&&loops("left",-1),"right"===target&&loops("left",1),"top"===target&&loops("top",-1),"bottom"===target&&loops("top",1)});const moves=document.getElementById("moves");function classToggle(e){var keyCode;e.isComposing||229===e.key||(192!=e.which||document.querySelector("input:focus")||(moves.classList.toggle("hide"),e.preventDefault(),e.stopImmediatePropagation()))}function setColors(){const compStyles=window.getComputedStyle(root),colors=document.querySelectorAll("#colors input"),arrayColors=[];colors.forEach(async(e,i)=>{e.parentElement.getElementsByTagName("label")[0].onclick=function(e){"LABEL"===e.target.tagName&&(copyToClipboard(this.title),e.preventDefault())}.bind(e);const compValue=await compStyles.getPropertyValue("--color"+i);e.value=e.title=compValue,e.addEventListener("input",async e=>{arrayColors[Array.from(colors).indexOf(e.target)]=e.target.value;const styleArray=arrayColors.map((e,index)=>{if(e.length)return"--color"+index+":"+e}).filter(Boolean),styles=styleArray.join(";");await localStorage.setItem("custom-theme",styles),styleRoot()})})}function styleRoot(){document.documentElement.style=localStorage.getItem("custom-theme")+";"+localStorage.getItem("bg-theme")}async function init(){const areaText=document.getElementsByTagName("TEXTAREA")[0];localStorage.getItem("elementClass")||localStorage.setItem("elementClass",JSON.stringify([14])),areaText.value=localStorage.getItem("textArea")||textAreaDefaults,localStorage.getItem("elementStyles")||localStorage.setItem("elementStyles",blockDefaults),setTimeStamp(43)&&online&&await getAll(api_url),await stats(getValueOfStorage.call("statsData")),await applyStyles(),await loopElem(),document.getElementById("today").innerHTML=showDate(),document.body.style.display="block";const NUM=parseInt(getValueOfStorage.call("theme"))||0;THEME_CHANGE.value=NUM,changerClass(NUM),styleRoot(),!1===JSON.parse(localStorage.getItem("theme-lines"))&&document.body.classList.remove("bglines");const clock=new Clock("clock");clock.startTime();const bgToggle=document.querySelector("#bg-toggle"),themeReset=document.querySelector("#custom-theme"),bgReset=document.querySelector("#bg-theme"),resetAll=document.querySelector("#reset-all"),bg=document.querySelector("#bg-file");bg.addEventListener("change",e=>{const inputValue=e.target.files[0],reader=new FileReader;reader.addEventListener("load",async()=>{const fileSting=`--bg:url(${reader.result})`;root.style=root.style?`${root.styler} + ;${fileSting}`:fileSting,await delay(2e3),localStorage.setItem("bg-theme",fileSting)},!1),inputValue&&reader.readAsDataURL(inputValue)}),[resetAll,bgReset,themeReset,bgToggle].forEach(e=>e.addEventListener("click",e=>{root.removeAttribute("style"),localStorage.removeItem(e.target.id),styleRoot(),e.target===resetAll&&(root.removeAttribute("class"),localStorage.clear(),setColors()),e.target===bgToggle&&localStorage.setItem("theme-lines",document.body.classList.toggle("bglines")),e.target===themeReset?setColors():bg.value=""})),setColors()}window.addEventListener("keyup",classToggle),root.addEventListener("contextmenu",e=>{"HTML"===e.target.tagName&&(e.preventDefault(),THEME_CHANGE.decrement(),changerClass(THEME_CHANGE.value),localStorage.setItem("theme",THEME_CHANGE.value),setColors())}),document.addEventListener("DOMContentLoaded",init,{once:!0}),document.addEventListener("dblclick",e=>{"TEXTAREA"===e.target.tagName&&(e.target.value="")});let mousedown=!1,scalingTarget=null;document.addEventListener("mousedown",async e=>{scalingTarget=e.target,"TEXTAREA"===scalingTarget.tagName&&(mousedown=!0,await delay(300),mousedown&&(scalingTarget.style.width=scalingTarget.parentElement.style.width="auto",scalingTarget.style.height=scalingTarget.parentElement.style.height="auto"))});const textArea=document.getElementsByTagName("TEXTAREA")[0];function mouseEvents(e){const{target:target}=e;target&&target.parentElement&&"movable"===target.parentElement.className&&"A"===target.tagName&&(target.style.opacity=".5");try{scalingTarget&&scalingTarget.parentElement&&"TEXTAREA"===scalingTarget.tagName&&null!=scalingTarget&&(scalingTarget.parentElement.style.height=roundToTenWidth(scalingTarget.parentElement.offsetHeight)+"px",scalingTarget.parentElement.style.width=roundToTenWidth(scalingTarget.parentElement.offsetWidth)+"px",setStyles(),mousedown=!1)}catch(error){console.log({error:error})}}textArea.addEventListener("input",async e=>{await delay(3e3),localStorage.setItem("textArea",e.target.value.trim())}),document.addEventListener("mouseup",mouseEvents)}();