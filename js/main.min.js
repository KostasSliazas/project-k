!function(w,d){"use strict";const pindiscard=d.getElementById("pindiscard"),pinsave=d.getElementById("pinsave"),random=(min,max)=>Math.floor(Math.random()*(max-min))+min,position=d.getElementById("position"),clicked=d.getElementById("clicked"),movable=Array.from(d.getElementsByClassName("movable")),roundToTen=num=>10*Math.ceil(num/10),setLocalStorageItems=(item,value)=>localStorage.setItem(item,JSON.stringify(value)),getLocalStorageItems=item=>{try{return JSON.parse(localStorage.getItem(item))}catch(error){return console.error("Error parsing JSON:",error.message),null}},delay=ms=>new Promise(resolve=>setTimeout(resolve,ms)),hide=elem=>elem.classList.add("hide"),show=(elem,type)=>elem.classList.remove("hide"),main=d.getElementById("main"),online=navigator.onLine,getPE=elem=>elem.parentElement,root=d.documentElement,typed=[],codeDiv=d.querySelector(".wrp-container"),defaultPin=d.querySelector("#code"),codeDivElms=Array.from(codeDiv.children[0].children),textArea=d.getElementsByTagName("TEXTAREA")[0],bg=d.querySelector("#bg-file"),styles=["width","height","left","top"],blockDefaults="width:90px;height:20px;left:260px;top:0px;,width:110px;height:40px;left:0px;top:0px;,width:110px;height:60px;left:150px;top:40px;,width:90px;height:60px;left:260px;top:40px;,width:160px;height:480px;left:350px;top:80px;,width:190px;height:150px;left:0px;top:100px;,width:160px;height:300px;left:190px;top:340px;,width:20px;height:120px;left:-110px;top:0px;,width:160px;height:240px;left:190px;top:100px;,width:160px;height:80px;left:350px;top:560px;,width:190px;height:390px;left:0px;top:250px;,width:150px;height:40px;left:0px;top:40px;,width:150px;height:40px;left:110px;top:0px;,width:90px;height:20px;left:260px;top:20px;,width:150px;height:20px;left:0px;top:80px;,width:160px;height:80px;left:350px;top:0px;",textAreaDefaults="Good day. You have the ability to reposition these blocks by selecting and holding the left corner at your desired location or by pressing the ` key on your keyboard. Alternatively, double-click to minimize them. Additionally, you can customize the theme, colors, and background image to your liking. Feel free to tailor this interface to your preferences. If locked, to unlock, simply triple-click on the background and then click 7AB (default PIN) or clear localStorage.";let isLocked=getLocalStorageItems("isLocked"),saved=getLocalStorageItems("mustashed")||[6,3,4],minimized=[0,16,13,14,7],count=0,allMouseClicks=0,mousedown=!1,scalingTarget=null,isEnterPass=!1,moving=!1,target=null;textArea.addEventListener("input",async e=>{await delay(3e3),setLocalStorageItems("textArea",e.target.value.trim())});const copy=d.getElementById("clipboard"),copyToClipboard=str=>{if("0"===str)return copy.textContent="";const el=d.createElement("textarea");el.value=str,el.setAttribute("readonly",""),el.style.position="absolute",el.style.left="-9999px",d.body.appendChild(el);const selected=d.getSelection().rangeCount>0&&d.getSelection().getRangeAt(0);el.select(),d.execCommand("copy"),copy.textContent=str,d.body.removeChild(el),selected&&(d.getSelection().removeAllRanges(),d.getSelection().addRange(selected))};class ClickHandler{constructor(){this.clicked=!1}async buttonClicker(e){if(!0===this.clicked)return e.preventDefault(),void e.stopImmediatePropagation();this.clicked=!0,await this.delay(200),this.clicked=!1}delay(ms){return new Promise(resolve=>setTimeout(resolve,ms))}}const clickHandler=new ClickHandler,getElms=Array.from(d.getElementsByTagName("input")).concat(Array.from(d.getElementsByTagName("a")));function getStyles(){let styleValues=[];return movable.forEach(e=>{styles.forEach(value=>styleValues.push(`${value}:${e.style[value]};`)),styleValues.push(",")}),styleValues.join("")}function getOffset(el){const rect=el.getBoundingClientRect();return{left:rect.left+w.scrollX,top:rect.top+w.scrollY}}getElms.forEach(element=>element.addEventListener("click",e=>clickHandler.buttonClicker(e)));const loopElem=async()=>{movable.forEach(async e=>{await delay(30),e.style.left=roundToTen(getOffset(e).left)+"px",e.style.top=roundToTen(getOffset(e).top)+"px",e.style.position="fixed",await delay(30),e.style.width=roundToTen(e.offsetWidth)+"px",e.style.height=roundToTen(e.offsetHeight)+"px",e.firstElementChild.title+=" (block index"+movable.indexOf(e)+")",e.addEventListener("dblclick",async e=>{if(e.target.classList.contains("movable")){const index=movable.indexOf(e.target);let arrayOfMinimized=getLocalStorageItems("elementClass")||minimized;e.target.classList.contains("minimized")?(arrayOfMinimized=arrayOfMinimized.filter(c=>c!==index),await e.target.classList.remove("minimized"),await delay(30),e.target.style.width="auto",await delay(30),e.target.style.height="auto",await delay(30),e.target.style.height=roundToTen(e.target.offsetHeight)+"px",e.target.style.width=roundToTen(e.target.offsetWidth)+"px"):e.target.classList.contains("movable")&&(e.target.classList.add("minimized"),arrayOfMinimized.push(index)),setLocalStorageItems("elementStyles",getStyles()),setLocalStorageItems("elementClass",arrayOfMinimized)}}),e.addEventListener("mousedown",(async function(e){e.target===this&&(moving=!0),null!==target&&(target.style.zIndex="auto"),target=this,target.style.zIndex=1,await delay(200),moving&&this.classList.add("mousedown")}))})};class Clock{constructor(clockElementId){this.clockElement=d.getElementById(clockElementId)}formatTimeUnit(unit){return unit<10?`0${unit}`:unit}getCurrentTime(){const day=new Date;return{m:this.formatTimeUnit(day.getMinutes()),s:this.formatTimeUnit(day.getSeconds()),h:this.formatTimeUnit(day.getHours())}}updateClock(){const{h:h,m:m,s:s}=this.getCurrentTime();this.clockElement.textContent=[h,m,s].join(":")}startTime(){this.updateClock(),setInterval(()=>this.updateClock(),1e3)}}function showWeekDay(){const weekday=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],d=new Date;return weekday[d.getDay()]}function showDate(){let d=new Date,formatter;return Intl.DateTimeFormat("lt-LT",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(d).slice(0,10)}const api_url="https://api.open-meteo.com/v1/forecast?latitude=55.7068&longitude=21.1391&hourly=temperature_2m";async function getAll(url){const response=await fetch(url);var data=await response.json();if(!response||!data)return!1;setLocalStorageItems("statsData",data.hourly.temperature_2m)}function reduceValuesDynamically(arr,max){if(0===arr.length)return arr;const maxInArray=Math.max(...arr.map(value=>Math.abs(value))),percentage=maxInArray>max?(maxInArray-max)/maxInArray*100:0,factor=1-percentage/100,resultArray=arr.map(value=>Math.min(value*factor,max));return resultArray}function stats(data){const stats=d.querySelector("#stats");if(!data)return stats.innerText="???";const main=d.querySelector(".svg-holder");data.length=34;const arrayConverted=reduceValuesDynamically(data.map(e=>10*e.toFixed(2)),16),svg=d.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("version","1.1"),svg.setAttribute("viewBox","0 0 100 32"),svg.setAttribute("xmlns","http://www.w3.org/2000/svg");let space=2;for(let i=0;i<arrayConverted.length;i++){const result=(arrayConverted[i],16-arrayConverted[i]),fixed=result.toFixed(2),path=d.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("d","M"+space+","+fixed+" V 16"),path.setAttribute("stroke-width","2"),path.setAttribute("width","2"),path.setAttribute("data-value",data[i]),i>=24&&path.setAttribute("class","tr"),svg.appendChild(path),space+=3}var now,currentHour;main.appendChild(svg);const output=data[(new Date).getHours()]+" C";main.addEventListener("mouseover",(function(e){"path"===e.target.tagName&&(stats.style.display="block",stats.innerText=e.target.getAttribute("data-value")+" C")})),main.addEventListener("mouseout",()=>stats.innerText=output),stats.innerText=output}function applyStyles(){const styles=getLocalStorageItems("elementStyles")||blockDefaults,mini=getLocalStorageItems("elementClass")||minimized,getStyle=styles.split(",");for(let i=0;i<movable.length;i++)movable[i].style=getStyle[i],movable[i].style.position="fixed",mini.includes(movable.indexOf(movable[i]))?movable[i].classList.add("minimized"):movable[i].classList.remove("minimized")}function setTimeStamp(interval){if("undefined"==typeof localStorage)return console.error("localStorage is not available."),!1;const currentDate=Math.floor((new Date).getTime()/1e3),previousTimeStamp=parseInt(localStorage.getItem("timeStamp"));return!(!isNaN(previousTimeStamp)&&currentDate-previousTimeStamp<interval)&&(localStorage.setItem("timeStamp",currentDate.toString()),!0)}var arrayHelper=function(){var ob={};return ob.value=ob.full=this.length,ob.increment=function(){this.value=this.value?--this.value:this.full-1},ob.decrement=function(){this.value=this.value<this.full-1?++this.value:0},ob};const themeName=d.getElementById("theme-name"),longNames=["inner peace","peace on earth","cool dudes","sunshine","someday","everything fine","night?"],classNameVariables=[0,"a","b","c","d","e","f"],THEME_CHANGE=arrayHelper.call(classNameVariables),changerClass=index=>{themeName.textContent=longNames[index],index?root.className=classNameVariables[index]:root.removeAttribute("class"),!0===d.getElementById("enabled-bg").checked?root.classList.add("bg-image"):root.classList.remove("bg-image")},loops=async(pos,val)=>{const selected=Array.from(d.getElementsByName("move")).filter(e=>e.checked)[0].value;movable.forEach(e=>"moves"!==e.id&&(e.style[pos]=parseInt(e.style[pos])+val*selected+"px")),await delay(300),setLocalStorageItems("elementStyles",getStyles())},moves=d.getElementById("moves");function classToggle(e){if(e.isComposing||"Unidentified"===e.key)return;const keyCode=e.key||String.fromCharCode(e.keyCode);"`"!==keyCode||d.querySelector("input:focus")||(moves.classList.toggle("hide"),e.preventDefault(),e.stopImmediatePropagation())}let handleMousemove;const lockerMouseMovments=debounce(event=>{position.textContent=`${event.x}:${event.y}`},200),isDisplayed=elem=>{const style=window.getComputedStyle(elem),isDisplay="none"!==style.getPropertyValue("display");return isDisplay};async function init(){defaultPin.title=saved,d.getElementById("is-online").textContent=online?"connected":"disconnected",d.getElementById("day-of-week").textContent=showWeekDay();const documentTitle=d.title;if(textArea.value=getLocalStorageItems("textArea")||textAreaDefaults,setTimeStamp(43)&&online){const ok=await getAll(api_url)}await hide(codeDiv),await stats(getLocalStorageItems("statsData")),await applyStyles(),await loopElem(),codeDivElms.forEach(e=>{e.onclick=function(e){e.stopPropagation(),typed.push(codeDivElms.indexOf(e.target)),!1===isEnterPass&&typed.length===saved.length&&typed.every((v,i)=>v===saved[i])&&(setLocalStorageItems("isLocked",isLocked=!1),d.title=documentTitle,hide(codeDiv),show(main),d.removeEventListener("mousemove",lockerMouseMovments))}});const NUM=parseInt(getLocalStorageItems("theme"))||0;if(THEME_CHANGE.value=NUM,changerClass(NUM),styleRoot(),setColors(),d.getElementById("today").innerHTML=showDate(),isDisplayed(d.getElementById("clock").parentElement)){const clock=new Clock("clock");clock.startTime()}d.body.style.display="block";const isCheckedLines=getLocalStorageItems("theme-lines");!1===isCheckedLines&&(d.getElementById("bg-toggle").checked=!1,main.classList.remove("lines"));const isCheckedBg=getLocalStorageItems("theme-bg");!1===isCheckedBg&&(d.getElementById("enabled-bg").checked=!1,root.classList.remove("bg-image")),isLocked?(d.title="New Tab",hide(main)):show(main)}async function setColors(){const compStyles=w.getComputedStyle(root),colors=d.querySelectorAll("#colors input[type=color]"),arrayColors=[];colors.forEach(async(e,i)=>{const compValue=await compStyles.getPropertyValue("--color"+i);e.value=e.title=compValue;const label=getPE(e).getElementsByTagName("label")[0];label.innerText=compValue.toUpperCase(),label.onclick=e=>{e.preventDefault(),copyToClipboard(compValue.toUpperCase())},e.addEventListener("input",async e=>{const label=getPE(e.target).getElementsByTagName("label")[0];label.innerText=e.target.value.toUpperCase();const index=Array.from(colors).indexOf(e.target);arrayColors[index]=`--color${index}:${e.target.value}`,setLocalStorageItems("custom-theme",arrayColors.filter(Boolean)),styleRoot()})})}function styleRoot(){const styleItems=["bg-theme","custom-theme"],arrayOfItems=styleItems.map(item=>getLocalStorageItems(item)).filter(Boolean).flat();d.documentElement.style.cssText=arrayOfItems.join(";")}function contextMenuFun(e){if("MAIN"===e.target.tagName&&(e.preventDefault(),THEME_CHANGE.decrement(),changerClass(THEME_CHANGE.value),setLocalStorageItems("theme",THEME_CHANGE.value),setColors()),e.target.textContent||e.target.value){if(e.preventDefault(),null==e.target.getAttribute("type")||"BUTTON"===e.target.getAttribute("type").toUpperCase()||"RESET"===e.target.getAttribute("type").toUpperCase())return;copyToClipboard(e.target.textContent||e.target.value)}}function rootClick(e){const target=e.target.id;"gt"===target&&THEME_CHANGE.decrement(),"lt"===target&&THEME_CHANGE.increment(),"left"===target&&loops("left",-1),"right"===target&&loops("left",1),"top"===target&&loops("top",-1),"bottom"===target&&loops("top",1),"lt"!==target&&"gt"!==target||(changerClass(THEME_CHANGE.value),setLocalStorageItems("theme",THEME_CHANGE.value),setColors()),"rotate90"===target&&main.classList.toggle("lazy"),"controls-hide"===target&&moves.classList.add("hide"),"custom-theme"!==target&&"bg-toggle"!==target&&"reset-all"!==target&&"bg-theme"!==target||(e.target.removeAttribute("style"),localStorage.removeItem(target),styleRoot()),"reset-all"===target&&(localStorage.clear(),root.removeAttribute("class"),setColors(),changerClass(0),applyStyles()),"bg-toggle"===target&&(!main.classList.contains("lines")&&e.target.checked?(setLocalStorageItems("theme-lines",!0),main.classList.add("lines")):(setLocalStorageItems("theme-lines",!1),main.classList.remove("lines"))),"enabled-bg"===target&&(!root.classList.contains("bg-image")&&e.target.checked?(setLocalStorageItems("theme-bg",!0),root.classList.add("bg-image")):(root.classList.remove("bg-image"),setLocalStorageItems("theme-bg",!1))),"custom-theme"===target&&setColors(),"bg-theme"===target&&(bg.value=""),"lock"===target&&(count=0,setLocalStorageItems("isLocked",isLocked=!0),hide(main),d.title="New Tab"),"code"===target&&(typed.length=0,show(codeDiv),isEnterPass=!0),"pinsave"===target&&typed.length&&(setLocalStorageItems("mustashed",typed),isEnterPass=!1,saved=getLocalStorageItems("mustashed"),defaultPin.title=saved,hide(codeDiv)),"pindiscard"===target&&hide(codeDiv),"container"!==e.target.className&&2===count&&getLocalStorageItems("isLocked")&&(d.addEventListener("mousemove",lockerMouseMovments),show(codeDiv),count=typed.length=0),"BODY"===e.target.tagName&&count++,allMouseClicks++,clicked.textContent=allMouseClicks,isEnterPass?(show(pindiscard),show(pinsave)):(hide(pinsave),hide(pindiscard))}function dblclickFun(e){e.target===copy&&(e.target.textContent="")}function bgChange(e){const inputValue=e.target.files[0],reader=new FileReader;reader.addEventListener("load",async()=>{const fileString=`--bg:url(${reader.result})`;await delay(200),setLocalStorageItems("bg-theme",fileString),styleRoot()},!1),inputValue&&reader.readAsDataURL(inputValue)}const mouseMoves=(z,e)=>{e.style.left=roundToTen(z.clientX)-10+"px",e.style.top=roundToTen(z.clientY)-10+"px"};function mouseMoveEvents(z){moving&&null!==target&&target.classList.contains("movable")&&mouseMoves(z,target)}function mouseUpEvents(e){moving=!1;const{target:target}=e;if(!target)return;const peTarget=getPE(target),targetClass=peTarget?peTarget.className:null;"movable"===targetClass&&"A"===target.tagName&&(target.style.opacity=".5"),targetClass&&(setLocalStorageItems("elementStyles",getStyles()),target.classList.remove("mousedown"));try{if(scalingTarget&&peTarget&&"TEXTAREA"===scalingTarget.tagName&&null!==scalingTarget){const peScalingTarget=getPE(scalingTarget);scalingTarget.style.height=peScalingTarget.style.height=roundToTen(peScalingTarget.offsetHeight)+"px",peScalingTarget.style.width=roundToTen(peScalingTarget.offsetWidth)+"px",setLocalStorageItems("elementStyles",getStyles())}}catch(error){console.log({error:error})}}async function mouseDownEvents(e){if(scalingTarget=e.target,"TEXTAREA"===scalingTarget.tagName){mousedown=!0;const computedStyles=w.getComputedStyle(scalingTarget),height=await computedStyles.getPropertyValue("height"),width=await computedStyles.getPropertyValue("width");scalingTarget.style.width=width,scalingTarget.style.height=height;const parentElement=getPE(scalingTarget);parentElement.style.width="auto",parentElement.style.height="auto"}}function debounce(func,delay){let timeoutId;return function(){const context=this,args=arguments;clearTimeout(timeoutId),timeoutId=setTimeout(()=>{func.apply(context,args)},delay)}}function throttle(func,delay){let lastCallTime=0;return function(){const now=(new Date).getTime();now-lastCallTime>=delay&&(func.apply(null,arguments),lastCallTime=now)}}bg.addEventListener("change",bgChange),w.addEventListener("keyup",classToggle),d.addEventListener("dblclick",dblclickFun),d.addEventListener("mousemove",throttle(mouseMoveEvents,60)),d.addEventListener("mousedown",mouseDownEvents),d.addEventListener("mouseup",mouseUpEvents),d.addEventListener("DOMContentLoaded",init),root.addEventListener("click",rootClick),root.addEventListener("contextmenu",contextMenuFun)}(window,document),function(){"use strict";const BEEP_AUDIO=new window.Audio("data:audio/mp3;base64,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"),CALC=document.getElementById("calculator"),CALC_SCREEN=document.getElementById("src");CALC_SCREEN.value=0;let n1=[],n2=0,op=null,lastop=null,result=0;const sound=()=>{BEEP_AUDIO.play(),window.navigator.vibrate(30)},add=(n,o)=>n+o,sub=(n,o)=>n-o,div=(n,o)=>n/o,mul=(n,o)=>n*o,res=n=>n,cals={"/":div,"×":mul,"+":add,"-":sub,"=":res},cal=(num1,num2,calback)=>{if("function"==typeof calback){const n1=num1.toString().split(".")[1],n2=num2.toString().split(".")[1],len1=n1&&n1.length||0,len2=n2&&n2.length||0;return"/"!==lastop?parseFloat(calback(Number(num1),Number(num2)).toFixed(len1+len2)):calback(Number(num1),Number(num2))}},btn=e=>{if(!e.target.matches("input")||"esound"===e.target.id||"src"===e.target.id)return e.preventDefault(),void e.stopPropagation();CALC_SCREEN.classList.add("blink"),document.getElementById("esound").checked&&sound(),e.target.dataset.fun&&(op=e.target.value),e.target.dataset.num&&(op=null,"0"===n1[0]&&"."!==n1[1]&&(n1.length=0),n1.push(e.target.value)),"⌫"===op&&(n1=result.toString(10).substring(0,15).replace(/[^0-9]/g,".").split(""),n1.pop(),"."===n1.join("").charAt(n1.join("").length-1)&&n1.pop()),n1.length||(n1=["0"]),","!==op||n1.includes(".")||n1.push("."),result=n1.join(""),"/"!==op&&"×"!==op&&"+"!==op&&"-"!==op&&"="!==op||(n2&&lastop&&(result=cal(Number(n2),Number(result),cals[lastop])),lastop=op,n2=result,n1.length=0),"C"===op&&(op=lastop=null,result=n2=n1.length=0),CALC_SCREEN.value=isFinite(result)?result:"ERROR"};CALC.addEventListener("mousedown",e=>btn(e)),CALC.addEventListener("mouseup",e=>setTimeout(()=>CALC_SCREEN.classList.remove("blink"),9))}();