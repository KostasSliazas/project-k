!function(t,e){"use strict";const q=e.getElementById("pindiscard"),n=e.getElementById("pinsave"),a=e.getElementById("position"),i=e.getElementById("clicked"),A=Array.from(e.getElementsByClassName("movable")),o=t=>10*Math.ceil(t/10),l=(t,e)=>localStorage.setItem(t,JSON.stringify(e)),s=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.error("Error parsing JSON:",e.message),null}},r=t=>new Promise((e=>setTimeout(e,t))),c=t=>t.classList.add("hide"),d=(t,e)=>t.classList.remove("hide"),u=e.getElementById("main"),g=navigator.onLine,m=t=>t.parentElement,p=e.documentElement,h=[],y=e.querySelector(".wrp-container"),f=e.querySelector("#code"),x=Array.from(y.children[0].children),v=e.getElementsByTagName("TEXTAREA")[0],w=e.querySelector("#bg-file"),b=["width","height","left","top"],E="width:150px;height:60px;left:10px;top:50px;,width:110px;height:40px;left:160px;top:10px;,width:110px;height:60px;left:160px;top:50px;,width:90px;height:60px;left:270px;top:50px;,width:190px;height:380px;left:550px;top:110px;,width:190px;height:180px;left:360px;top:350px;,width:190px;height:300px;left:360px;top:50px;,width:190px;height:50px;left:550px;top:60px;,width:190px;height:50px;left:550px;top:10px;,width:20px;height:120px;left:340px;top:410px;,width:160px;height:240px;left:200px;top:110px;,width:140px;height:80px;left:200px;top:450px;,width:190px;height:420px;left:10px;top:110px;,width:190px;height:40px;left:550px;top:490px;,width:130px;height:40px;left:270px;top:10px;,width:150px;height:40px;left:10px;top:10px;,width:150px;height:40px;left:400px;top:10px;,width:160px;height:100px;left:200px;top:350px;";let L=s("isLocked"),T=s("mustashed")||[6,3,4],k=[9],V=0,C=0,B=!1,S=null,I=!1,N=!1,D=null;v.addEventListener("input",(async t=>{await r(3e3),l("textArea",t.target.value.trim())}));const M=e.getElementById("clipboard"),U=t=>{if("0"===t)return M.textContent="";const q=e.createElement("textarea");q.value=t,q.setAttribute("readonly",""),q.style.position="absolute",q.style.left="-9999px",e.body.appendChild(q);const n=e.getSelection().rangeCount>0&&e.getSelection().getRangeAt(0);q.select(),e.execCommand("copy"),M.textContent=t,e.body.removeChild(q),n&&(e.getSelection().removeAllRanges(),e.getSelection().addRange(n))};const F=new class{constructor(){this.clicked=!1}async buttonClicker(t){if(!0===this.clicked)return t.preventDefault(),void t.stopImmediatePropagation();this.clicked=!0,await this.delay(200),this.clicked=!1}delay(t){return new Promise((e=>setTimeout(e,t)))}};function P(){let t=[];return A.forEach((e=>{b.forEach((q=>t.push(`${q}:${e.style[q]};`))),t.push(",")})),t.join("")}function z(e){const q=e.getBoundingClientRect();return{left:q.left+t.scrollX,top:q.top+t.scrollY}}Array.from(e.getElementsByTagName("input")).concat(Array.from(e.getElementsByTagName("a"))).forEach((t=>t.addEventListener("click",(t=>F.buttonClicker(t)))));const O=async()=>{A.forEach((async t=>{await r(30),t.style.left=o(z(t).left)+"px",t.style.top=o(z(t).top)+"px",t.style.position="fixed",await r(30),t.style.width=o(t.offsetWidth)+"px",t.style.height=o(t.offsetHeight)+"px",t.firstElementChild.title+=" (block index"+A.indexOf(t)+")",t.addEventListener("dblclick",(async t=>{if(t.target.classList.contains("movable")){const e=A.indexOf(t.target);let q=s("elementClass")||k;t.target.classList.contains("minimized")?(q=q.filter((t=>t!==e)),await t.target.classList.remove("minimized"),await r(30),t.target.style.width="auto",await r(30),t.target.style.height="auto",await r(30),t.target.style.height=o(t.target.offsetHeight)+"px",t.target.style.width=o(t.target.offsetWidth)+"px"):t.target.classList.contains("movable")&&(t.target.classList.add("minimized"),q.push(e)),l("elementStyles",P()),l("elementClass",q)}})),t.addEventListener("mousedown",(async function(t){t.target===this&&(N=!0),null!==D&&(D.style.zIndex="auto"),D=this,D.style.zIndex=1,await r(200),N&&this.classList.add("mousedown")}))}))};class R{constructor(t){this.clockElement=e.getElementById(t)}formatTimeUnit(t){return t<10?`0${t}`:t}getCurrentTime(){const t=new Date;return{m:this.formatTimeUnit(t.getMinutes()),s:this.formatTimeUnit(t.getSeconds()),h:this.formatTimeUnit(t.getHours())}}updateClock(){const{h:t,m:e,s:q}=this.getCurrentTime();this.clockElement.textContent=[t,e,q].join(":")}startTime(){this.updateClock(),setInterval((()=>this.updateClock()),1e3)}}function K(t){const q=e.querySelector("#stats");if(!t)return q.innerText="???";const n=e.querySelector(".svg-holder");t.length=25;const a=function(t,e){if(0===t.length)return t;const q=Math.max(...t.map((t=>Math.abs(t)))),n=1-(q>e?(q-e)/q*100:0)/100;return t.map((t=>Math.min(t*n,e)))}(t.map((t=>10*t.toFixed(2))),20),i=e.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("version","1.1"),i.setAttribute("viewBox","0 0 100 40"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");let A=0;for(let q=0;q<a.length;q++){const n=(a[q],20-a[q]).toFixed(2),o=e.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M"+A+","+n+" V 20"),o.setAttribute("stroke-width","3"),o.setAttribute("width","4"),o.setAttribute("data-value",t[q]),i.appendChild(o),A+=4}n.appendChild(i);const o=t[0]+" C";n.addEventListener("mouseover",(function(t){"path"===t.target.tagName&&(q.style.display="block",q.innerText=t.target.getAttribute("data-value")+" C")})),n.addEventListener("mouseout",(()=>q.innerText=o)),q.innerText=o}function Y(){const t=s("elementStyles")||E,e=s("elementClass")||k,q=t.split(",");for(let t=0;t<A.length;t++)A[t].style=q[t],A[t].style.position="fixed",e.includes(A.indexOf(A[t]))?A[t].classList.add("minimized"):A[t].classList.remove("minimized")}const W=e.getElementById("theme-name"),G=["inner peace","peace on earth","cool dudes","sunshine","someday","everything fine","night?"],j=[0,"a","b","c","d","e","f"],H=function(){var t={};return t.value=t.full=this.length,t.increment=function(){this.value=this.value?--this.value:this.full-1},t.decrement=function(){this.value=this.value<this.full-1?++this.value:0},t}.call(j),Q=t=>{W.textContent=G[t],t?p.className=j[t]:p.removeAttribute("class"),!0===e.getElementById("enabled-bg").checked?p.classList.add("bg-image"):p.classList.remove("bg-image")},X=async(t,q)=>{const n=Array.from(e.getElementsByName("move")).filter((t=>t.checked))[0].value;A.forEach((e=>"moves"!==e.id&&(e.style[t]=parseInt(e.style[t])+q*n+"px"))),await r(300),l("elementStyles",P())},J=e.getElementById("moves");const Z=function(t,e){let q;return function(){const n=this,a=arguments;clearTimeout(q),q=setTimeout((()=>{t.apply(n,a)}),e)}}((t=>{a.textContent=`${t.x}:${t.y}`}),200);async function $(){const q=t.getComputedStyle(p),n=e.querySelectorAll("#colors input[type=color]"),a=[];n.forEach((async(t,e)=>{const i=await q.getPropertyValue("--color"+e);t.value=t.title=i;const A=m(t).getElementsByTagName("label")[0];A.innerText=i.toUpperCase(),A.onclick=t=>{t.preventDefault(),U(i.toUpperCase())},t.addEventListener("input",(async t=>{m(t.target).getElementsByTagName("label")[0].innerText=t.target.value.toUpperCase();const e=Array.from(n).indexOf(t.target);a[e]=`--color${e}:${t.target.value}`,l("custom-theme",a.filter(Boolean)),_()}))}))}function _(){const t=["bg-theme","custom-theme"].map((t=>s(t))).filter(Boolean).flat();e.documentElement.style.cssText=t.join(";")}w.addEventListener("change",(function(t){const e=t.target.files[0],q=new FileReader;q.addEventListener("load",(async()=>{const t=`--bg:url(${q.result})`;await r(200),l("bg-theme",t),_()}),!1),e&&q.readAsDataURL(e)})),t.addEventListener("keyup",(function(t){if(t.isComposing||"Unidentified"===t.key)return;"`"!==(t.key||String.fromCharCode(t.keyCode))||e.querySelector("input:focus")||(J.classList.toggle("hide"),t.preventDefault(),t.stopImmediatePropagation())})),e.addEventListener("dblclick",(function(t){t.target===M&&(t.target.textContent=""),"TEXTAREA"===t.target.tagName&&(t.target.value="")})),e.addEventListener("mousemove",function(t,e){let q=0;return function(){const n=(new Date).getTime();n-q>=e&&(t.apply(null,arguments),q=n)}}((function(t){N&&null!==D&&D.classList.contains("movable")&&((t,e)=>{e.style.left=o(t.clientX)-10+"px",e.style.top=o(t.clientY)-10+"px"})(t,D)}),60)),e.addEventListener("mousedown",(async function(e){if(S=e.target,"TEXTAREA"===S.tagName){B=!0;const e=t.getComputedStyle(S),q=await e.getPropertyValue("height"),n=await e.getPropertyValue("width");S.style.width=n,S.style.height=q;const a=m(S);a.style.width="auto",a.style.height="auto"}})),e.addEventListener("mouseup",(function(t){N=!1;const{target:e}=t;if(!e)return;const q=m(e),n=q?q.className:null;"movable"===n&&"A"===e.tagName&&(e.style.opacity=".5"),n&&(l("elementStyles",P()),e.classList.remove("mousedown"));try{if(S&&q&&"TEXTAREA"===S.tagName&&null!==S){const t=m(S);S.style.height=t.style.height=o(t.offsetHeight)+"px",t.style.width=o(t.offsetWidth)+"px",l("elementStyles",P())}}catch(a){console.log({error:a})}})),e.addEventListener("DOMContentLoaded",(async function(){f.title=T,e.getElementById("is-online").textContent=g?"connected":"disconnected",e.getElementById("day-of-week").textContent=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(new Date).getDay()];const t=e.title;v.value=s("textArea")||"Good day. You have the ability to reposition these blocks by selecting and holding the left corner at your desired location or by pressing the ` key on your keyboard. Alternatively, double-click to minimize them. Additionally, you can customize the theme, colors, and background image to your liking. Feel free to tailor this interface to your preferences. If locked, to unlock, simply triple-click on the background and then click 7AB (default PIN) or clear localStorage.",function(t){const e=Math.abs(((new Date).getTime()/1e3).toFixed(0));if(null!==localStorage.getItem("timeStamp")){const q=e-localStorage.getItem("timeStamp");if(Math.floor(q/60)%60<=t)return!1}return l("timeStamp",e),!0}(43)&&g&&await async function(t){const e=await fetch(t);var q=await e.json();if(!e||!q)return!1;l("statsData",q.hourly.temperature_2m)}("https://api.open-meteo.com/v1/forecast?latitude=55.7068&longitude=21.1391&hourly=temperature_2m"),await c(y),await K(s("statsData")),await Y(),await O(),x.forEach((q=>{q.onclick=function(q){q.stopPropagation(),h.push(x.indexOf(q.target)),!1===I&&h.length===T.length&&h.every(((t,e)=>t===T[e]))&&(l("isLocked",L=!1),e.title=t,c(y),d(u),e.removeEventListener("mousemove",Z))}}));const q=parseInt(s("theme"))||0;H.value=q,Q(q),_(),$(),e.getElementById("today").innerHTML=function(){let t=new Date;return Intl.DateTimeFormat("lt-LT",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(t).slice(0,10)}(),new R("clock").startTime(),e.body.style.display="block",!1===s("theme-lines")&&(e.getElementById("bg-toggle").checked=!1,u.classList.remove("lines")),!1===s("theme-bg")&&(e.getElementById("enabled-bg").checked=!1,p.classList.remove("bg-image")),L?(e.title="New Tab",c(u)):d(u)})),p.addEventListener("click",(function(t){const a=t.target.id;"gt"===a&&H.decrement(),"lt"===a&&H.increment(),"left"===a&&X("left",-1),"right"===a&&X("left",1),"top"===a&&X("top",-1),"bottom"===a&&X("top",1),"lt"!==a&&"gt"!==a||(Q(H.value),l("theme",H.value),$()),"rotate90"===a&&u.classList.toggle("lazy"),"controls-hide"===a&&J.classList.add("hide"),"custom-theme"!==a&&"bg-toggle"!==a&&"reset-all"!==a&&"bg-theme"!==a||(t.target.removeAttribute("style"),localStorage.removeItem(a),_()),"reset-all"===a&&(localStorage.clear(),p.removeAttribute("class"),$(),Q(0),Y()),"bg-toggle"===a&&(!u.classList.contains("lines")&&t.target.checked?(l("theme-lines",!0),u.classList.add("lines")):(l("theme-lines",!1),u.classList.remove("lines"))),"enabled-bg"===a&&(!p.classList.contains("bg-image")&&t.target.checked?(l("theme-bg",!0),p.classList.add("bg-image")):(p.classList.remove("bg-image"),l("theme-bg",!1))),"custom-theme"===a&&$(),"bg-theme"===a&&(w.value=""),"lock"===a&&(V=0,l("isLocked",L=!0),c(u),e.title="New Tab"),"code"===a&&(h.length=0,d(y),I=!0),"pinsave"===a&&h.length&&(l("mustashed",h),I=!1,T=s("mustashed"),f.title=T,c(y)),"pindiscard"===a&&c(y),"container"!==t.target.className&&2===V&&s("isLocked")&&(e.addEventListener("mousemove",Z),d(y),V=h.length=0),"BODY"===t.target.tagName&&V++,C++,i.textContent=C,I?(d(q),d(n)):(c(n),c(q))})),p.addEventListener("contextmenu",(function(t){if("MAIN"===t.target.tagName&&(t.preventDefault(),H.decrement(),Q(H.value),l("theme",H.value),$()),t.target.textContent||t.target.value){if(t.preventDefault(),null==t.target.getAttribute("type")||"BUTTON"===t.target.getAttribute("type").toUpperCase()||"RESET"===t.target.getAttribute("type").toUpperCase())return;U(t.target.textContent||t.target.value)}}))}(window,document),function(){"use strict";const t=new window.Audio("data:audio/mp3;base64,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"),e=document.getElementById("calculator"),q=document.getElementById("src");q.value=0;let n=[],a=0,i=null,A=null,o=0;const l=t=>t,s={"/":(t,e)=>t/e,"×":(t,e)=>t*e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"=":l},r=e=>{if(!e.target.matches("input")||"esound"===e.target.id||"src"===e.target.id)return e.preventDefault(),void e.stopPropagation();q.classList.add("blink"),document.getElementById("esound").checked&&(t.play(),window.navigator.vibrate(30)),e.target.dataset.fun&&(i=e.target.value),e.target.dataset.num&&(i=null,"0"===n[0]&&"."!==n[1]&&(n.length=0),n.push(e.target.value)),"⌫"===i&&(n=o.toString(10).substring(0,15).replace(/[^0-9]/g,".").split(""),n.pop(),"."===n.join("").charAt(n.join("").length-1)&&n.pop()),n.length||(n=["0"]),","!==i||n.includes(".")||n.push("."),o=n.join(""),"/"!==i&&"×"!==i&&"+"!==i&&"-"!==i&&"="!==i||(a&&A&&(o=((t,e,q)=>{if("function"==typeof q){const n=t.toString().split(".")[1],a=e.toString().split(".")[1],i=n&&n.length||0,o=a&&a.length||0;return"/"!==A?parseFloat(q(Number(t),Number(e)).toFixed(i+o)):q(Number(t),Number(e))}})(Number(a),Number(o),s[A])),A=i,a=o,n.length=0),"C"===i&&(i=A=null,o=a=n.length=0),q.value=isFinite(o)?o:"ERROR"};e.addEventListener("mousedown",(t=>r(t))),e.addEventListener("mouseup",(t=>setTimeout((()=>q.classList.remove("blink")),99)))}();
