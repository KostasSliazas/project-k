!function(e,t){"use strict";const q=t.getElementById("pindiscard"),n=t.getElementById("pinsave"),a=t.getElementById("position"),i=t.getElementById("clicked"),A=Array.from(t.getElementsByClassName("movable")),o=e=>10*Math.ceil(e/10),l=(e,t)=>localStorage.setItem(e,JSON.stringify(t)),s=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.error("Error parsing JSON:",t.message),null}},r=e=>new Promise((t=>setTimeout(t,e))),c=e=>e.classList.add("hide"),d=(e,t)=>e.classList.remove("hide"),u=t.getElementById("main"),g=navigator.onLine,m=e=>e.parentElement,p=t.documentElement,h=[],y=t.querySelector(".wrp-container"),f=t.querySelector("#code"),x=Array.from(y.children[0].children),v=t.getElementsByTagName("TEXTAREA")[0],w=t.querySelector("#bg-file"),b=["width","height","left","top"],E="width:150px;height:60px;left:10px;top:50px;,width:110px;height:40px;left:10px;top:10px;,width:110px;height:60px;left:160px;top:50px;,width:90px;height:60px;left:270px;top:50px;,width:190px;height:420px;left:550px;top:110px;,width:190px;height:180px;left:360px;top:350px;,width:190px;height:300px;left:360px;top:50px;,width:190px;height:50px;left:550px;top:60px;,width:190px;height:50px;left:550px;top:10px;,width:20px;height:120px;left:340px;top:410px;,width:160px;height:240px;left:200px;top:110px;,width:140px;height:80px;left:200px;top:450px;,width:190px;height:420px;left:10px;top:110px;,width:130px;height:40px;left:420px;top:10px;,width:150px;height:40px;left:270px;top:10px;,width:150px;height:40px;left:120px;top:10px;,width:160px;height:100px;left:200px;top:350px";let L=s("isLocked"),k=s("mustashed")||[6,3,4],V=[9],T=0,C=0,B=!1,S=null,I=!1,N=!1,D=null;v.addEventListener("input",(async e=>{await r(3e3),l("textArea",e.target.value.trim())}));const M=t.getElementById("clipboard"),U=e=>{if("0"===e)return M.textContent="";const q=t.createElement("textarea");q.value=e,q.setAttribute("readonly",""),q.style.position="absolute",q.style.left="-9999px",t.body.appendChild(q);const n=t.getSelection().rangeCount>0&&t.getSelection().getRangeAt(0);q.select(),t.execCommand("copy"),M.textContent=e,t.body.removeChild(q),n&&(t.getSelection().removeAllRanges(),t.getSelection().addRange(n))};const F=new class{constructor(){this.clicked=!1}async buttonClicker(e){if(!0===this.clicked)return e.preventDefault(),void e.stopImmediatePropagation();this.clicked=!0,await this.delay(200),this.clicked=!1}delay(e){return new Promise((t=>setTimeout(t,e)))}};function P(){let e=[];return A.forEach((t=>{b.forEach((q=>e.push(`${q}:${t.style[q]};`))),e.push(",")})),e.join("")}function z(t){const q=t.getBoundingClientRect();return{left:q.left+e.scrollX,top:q.top+e.scrollY}}Array.from(t.getElementsByTagName("input")).concat(Array.from(t.getElementsByTagName("a"))).forEach((e=>e.addEventListener("click",(e=>F.buttonClicker(e)))));const O=async()=>{A.forEach((async e=>{await r(30),e.style.left=o(z(e).left)+"px",e.style.top=o(z(e).top)+"px",e.style.position="fixed",await r(30),e.style.width=o(e.offsetWidth)+"px",e.style.height=o(e.offsetHeight)+"px",e.firstElementChild.title+=" (block index"+A.indexOf(e)+")",e.addEventListener("dblclick",(async e=>{if(e.target.classList.contains("movable")){const t=A.indexOf(e.target);let q=s("elementClass")||V;e.target.classList.contains("minimized")?(q=q.filter((e=>e!==t)),await e.target.classList.remove("minimized"),await r(30),e.target.style.width="auto",await r(30),e.target.style.height="auto",await r(30),e.target.style.height=o(e.target.offsetHeight)+"px",e.target.style.width=o(e.target.offsetWidth)+"px"):e.target.classList.contains("movable")&&(e.target.classList.add("minimized"),q.push(t)),l("elementStyles",P()),l("elementClass",q)}})),e.addEventListener("mousedown",(async function(e){e.target===this&&(N=!0),null!==D&&(D.style.zIndex="auto"),D=this,D.style.zIndex=1,await r(200),N&&this.classList.add("mousedown")}))}))};class R{constructor(e){this.clockElement=t.getElementById(e)}formatTimeUnit(e){return e<10?`0${e}`:e}getCurrentTime(){const e=new Date;return{m:this.formatTimeUnit(e.getMinutes()),s:this.formatTimeUnit(e.getSeconds()),h:this.formatTimeUnit(e.getHours())}}updateClock(){const{h:e,m:t,s:q}=this.getCurrentTime();this.clockElement.textContent=[e,t,q].join(":")}startTime(){this.updateClock(),setInterval((()=>this.updateClock()),1e3)}}function K(e){const q=t.querySelector("#stats");if(!e)return q.innerText="???";const n=t.querySelector(".svg-holder");e.length=25;const a=function(e,t){if(0===e.length)return e;const q=Math.max(...e.map((e=>Math.abs(e)))),n=1-(q>t?(q-t)/q*100:0)/100;return e.map((e=>Math.min(e*n,t)))}(e.map((e=>10*e.toFixed(2))),20),i=t.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("version","1.1"),i.setAttribute("viewBox","0 0 100 40"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");let A=0;for(let q=0;q<a.length;q++){const n=(a[q],20-a[q]).toFixed(2),o=t.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M"+A+","+n+" V 20"),o.setAttribute("stroke-width","3"),o.setAttribute("width","4"),o.setAttribute("data-value",e[q]),i.appendChild(o),A+=4}n.appendChild(i);const o=e[0]+" C";n.addEventListener("mouseover",(function(e){"path"===e.target.tagName&&(q.style.display="block",q.innerText=e.target.getAttribute("data-value")+" C")})),n.addEventListener("mouseout",(()=>q.innerText=o)),q.innerText=o}function Y(){const e=s("elementStyles")||E,t=s("elementClass")||V,q=e.split(",");for(let e=0;e<A.length;e++)A[e].style=q[e],A[e].style.position="fixed",t.includes(A.indexOf(A[e]))?A[e].classList.add("minimized"):A[e].classList.remove("minimized")}const W=t.getElementById("theme-name"),G=["inner peace","peace on earth","cool dudes","sunshine","someday","everything fine","night?"],j=[0,"a","b","c","d","e","f"],H=function(){var e={};return e.value=e.full=this.length,e.increment=function(){this.value=this.value?--this.value:this.full-1},e.decrement=function(){this.value=this.value<this.full-1?++this.value:0},e}.call(j),Q=e=>{W.textContent=G[e],e?p.className=j[e]:p.removeAttribute("class"),!0===t.getElementById("enabled-bg").checked?p.classList.add("bg-image"):p.classList.remove("bg-image")},X=async(e,q)=>{const n=Array.from(t.getElementsByName("move")).filter((e=>e.checked))[0].value;A.forEach((t=>"moves"!==t.id&&(t.style[e]=parseInt(t.style[e])+q*n+"px"))),await r(300),l("elementStyles",P())},J=t.getElementById("moves");const Z=function(e,t){let q;return function(){const n=this,a=arguments;clearTimeout(q),q=setTimeout((()=>{e.apply(n,a)}),t)}}((e=>{a.textContent=`${e.x}:${e.y}`}),200);async function $(){const q=e.getComputedStyle(p),n=t.querySelectorAll("#colors input[type=color]"),a=[];n.forEach((async(e,t)=>{const i=await q.getPropertyValue("--color"+t);e.value=e.title=i;const A=m(e).getElementsByTagName("label")[0];A.innerText=i.toUpperCase(),A.onclick=e=>{e.preventDefault(),U(i.toUpperCase())},e.addEventListener("input",(async e=>{m(e.target).getElementsByTagName("label")[0].innerText=e.target.value.toUpperCase();const t=Array.from(n).indexOf(e.target);a[t]=`--color${t}:${e.target.value}`,l("custom-theme",a.filter(Boolean)),_()}))}))}function _(){const e=["bg-theme","custom-theme"].map((e=>s(e))).filter(Boolean).flat();t.documentElement.style.cssText=e.join(";")}w.addEventListener("change",(function(e){const t=e.target.files[0],q=new FileReader;q.addEventListener("load",(async()=>{const e=`--bg:url(${q.result})`;await r(200),l("bg-theme",e),_()}),!1),t&&q.readAsDataURL(t)})),e.addEventListener("keyup",(function(e){if(e.isComposing||"Unidentified"===e.key)return;"`"!==(e.key||String.fromCharCode(e.keyCode))||t.querySelector("input:focus")||(J.classList.toggle("hide"),e.preventDefault(),e.stopImmediatePropagation())})),t.addEventListener("dblclick",(function(e){e.target===M&&(e.target.textContent="")})),t.addEventListener("mousemove",function(e,t){let q=0;return function(){const n=(new Date).getTime();n-q>=t&&(e.apply(null,arguments),q=n)}}((function(e){N&&null!==D&&D.classList.contains("movable")&&((e,t)=>{t.style.left=o(e.clientX)-10+"px",t.style.top=o(e.clientY)-10+"px"})(e,D)}),60)),t.addEventListener("mousedown",(async function(t){if(S=t.target,"TEXTAREA"===S.tagName){B=!0;const t=e.getComputedStyle(S),q=await t.getPropertyValue("height"),n=await t.getPropertyValue("width");S.style.width=n,S.style.height=q;const a=m(S);a.style.width="auto",a.style.height="auto"}})),t.addEventListener("mouseup",(function(e){N=!1;const{target:t}=e;if(!t)return;const q=m(t),n=q?q.className:null;"movable"===n&&"A"===t.tagName&&(t.style.opacity=".5"),n&&(l("elementStyles",P()),t.classList.remove("mousedown"));try{if(S&&q&&"TEXTAREA"===S.tagName&&null!==S){const e=m(S);S.style.height=e.style.height=o(e.offsetHeight)+"px",e.style.width=o(e.offsetWidth)+"px",l("elementStyles",P())}}catch(a){console.log({error:a})}})),t.addEventListener("DOMContentLoaded",(async function(){f.title=k,t.getElementById("is-online").textContent=g?"connected":"disconnected",t.getElementById("day-of-week").textContent=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(new Date).getDay()];const e=t.title;v.value=s("textArea")||"Good day. You have the ability to reposition these blocks by selecting and holding the left corner at your desired location or by pressing the ` key on your keyboard. Alternatively, double-click to minimize them. Additionally, you can customize the theme, colors, and background image to your liking. Feel free to tailor this interface to your preferences. If locked, to unlock, simply triple-click on the background and then click 7AB (default PIN) or clear localStorage.",function(e){const t=Math.abs(((new Date).getTime()/1e3).toFixed(0));if(null!==localStorage.getItem("timeStamp")){const q=t-localStorage.getItem("timeStamp");if(Math.floor(q/60)%60<=e)return!1}return l("timeStamp",t),!0}(43)&&g&&await async function(e){const t=await fetch(e);var q=await t.json();if(!t||!q)return!1;l("statsData",q.hourly.temperature_2m)}("https://api.open-meteo.com/v1/forecast?latitude=55.7068&longitude=21.1391&hourly=temperature_2m"),await c(y),await K(s("statsData")),await Y(),await O(),x.forEach((q=>{q.onclick=function(q){q.stopPropagation(),h.push(x.indexOf(q.target)),!1===I&&h.length===k.length&&h.every(((e,t)=>e===k[t]))&&(l("isLocked",L=!1),t.title=e,c(y),d(u),t.removeEventListener("mousemove",Z))}}));const q=parseInt(s("theme"))||0;if(H.value=q,Q(q),_(),$(),t.getElementById("today").innerHTML=function(){let e=new Date;return Intl.DateTimeFormat("lt-LT",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(e).slice(0,10)}(),n=t.getElementById("clock").parentElement,"none"!==window.getComputedStyle(n).getPropertyValue("display")){new R("clock").startTime()}var n;t.body.style.display="block",!1===s("theme-lines")&&(t.getElementById("bg-toggle").checked=!1,u.classList.remove("lines")),!1===s("theme-bg")&&(t.getElementById("enabled-bg").checked=!1,p.classList.remove("bg-image")),L?(t.title="New Tab",c(u)):d(u)})),p.addEventListener("click",(function(e){const a=e.target.id;"gt"===a&&H.decrement(),"lt"===a&&H.increment(),"left"===a&&X("left",-1),"right"===a&&X("left",1),"top"===a&&X("top",-1),"bottom"===a&&X("top",1),"lt"!==a&&"gt"!==a||(Q(H.value),l("theme",H.value),$()),"rotate90"===a&&u.classList.toggle("lazy"),"controls-hide"===a&&J.classList.add("hide"),"custom-theme"!==a&&"bg-toggle"!==a&&"reset-all"!==a&&"bg-theme"!==a||(e.target.removeAttribute("style"),localStorage.removeItem(a),_()),"reset-all"===a&&(localStorage.clear(),p.removeAttribute("class"),$(),Q(0),Y()),"bg-toggle"===a&&(!u.classList.contains("lines")&&e.target.checked?(l("theme-lines",!0),u.classList.add("lines")):(l("theme-lines",!1),u.classList.remove("lines"))),"enabled-bg"===a&&(!p.classList.contains("bg-image")&&e.target.checked?(l("theme-bg",!0),p.classList.add("bg-image")):(p.classList.remove("bg-image"),l("theme-bg",!1))),"custom-theme"===a&&$(),"bg-theme"===a&&(w.value=""),"lock"===a&&(T=0,l("isLocked",L=!0),c(u),t.title="New Tab"),"code"===a&&(h.length=0,d(y),I=!0),"pinsave"===a&&h.length&&(l("mustashed",h),I=!1,k=s("mustashed"),f.title=k,c(y)),"pindiscard"===a&&c(y),"container"!==e.target.className&&2===T&&s("isLocked")&&(t.addEventListener("mousemove",Z),d(y),T=h.length=0),"BODY"===e.target.tagName&&T++,C++,i.textContent=C,I?(d(q),d(n)):(c(n),c(q))})),p.addEventListener("contextmenu",(function(e){if("MAIN"===e.target.tagName&&(e.preventDefault(),H.decrement(),Q(H.value),l("theme",H.value),$()),e.target.textContent||e.target.value){if(e.preventDefault(),null==e.target.getAttribute("type")||"BUTTON"===e.target.getAttribute("type").toUpperCase()||"RESET"===e.target.getAttribute("type").toUpperCase())return;U(e.target.textContent||e.target.value)}}))}(window,document),function(){"use strict";const e=new window.Audio("data:audio/mp3;base64,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"),t=document.getElementById("calculator"),q=document.getElementById("src");q.value=0;let n=[],a=0,i=null,A=null,o=0;const l=e=>e,s={"/":(e,t)=>e/t,"×":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"=":l},r=t=>{if(!t.target.matches("input")||"esound"===t.target.id||"src"===t.target.id)return t.preventDefault(),void t.stopPropagation();q.classList.add("blink"),document.getElementById("esound").checked&&(e.play(),window.navigator.vibrate(30)),t.target.dataset.fun&&(i=t.target.value),t.target.dataset.num&&(i=null,"0"===n[0]&&"."!==n[1]&&(n.length=0),n.push(t.target.value)),"⌫"===i&&(n=o.toString(10).substring(0,15).replace(/[^0-9]/g,".").split(""),n.pop(),"."===n.join("").charAt(n.join("").length-1)&&n.pop()),n.length||(n=["0"]),","!==i||n.includes(".")||n.push("."),o=n.join(""),"/"!==i&&"×"!==i&&"+"!==i&&"-"!==i&&"="!==i||(a&&A&&(o=((e,t,q)=>{if("function"==typeof q){const n=e.toString().split(".")[1],a=t.toString().split(".")[1],i=n&&n.length||0,o=a&&a.length||0;return"/"!==A?parseFloat(q(Number(e),Number(t)).toFixed(i+o)):q(Number(e),Number(t))}})(Number(a),Number(o),s[A])),A=i,a=o,n.length=0),"C"===i&&(i=A=null,o=a=n.length=0),q.value=isFinite(o)?o:"ERROR"};t.addEventListener("mousedown",(e=>r(e))),t.addEventListener("mouseup",(e=>setTimeout((()=>q.classList.remove("blink")),9)))}();
