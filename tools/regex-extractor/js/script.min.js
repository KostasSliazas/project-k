!function(){"use strict";const area=document.getElementById("area"),extract=document.getElementById("extract"),output=document.getElementById("output"),checkbox=document.querySelectorAll("input[name=regex]"),len=document.getElementById("length"),sum=document.getElementById("sum"),average=document.getElementById("average"),lenum=document.getElementById("lenum"),radios=document.getElementById("radios"),copyText=document.getElementById("copy"),customSimbol=document.getElementById("custom"),getChecked=elem=>Array.from(elem).find(e=>e.checked),calculators=e=>{const{target:target}=e,elem=getChecked(checkbox);if("lenum"===elem.id&&(getChecked(radios.getElementsByTagName("INPUT"))||(radios.getElementsByTagName("INPUT")[0].checked=!0)),target.id.match("num"))Array.from(radios.getElementsByTagName("INPUT")).forEach(e=>e.checked=!1);else if(target.id.match("don")||target.id.match("cus")){lenum.checked=!0;const terribleLine=`(?<!\\S)${parseInt(target.value)>0?"\\d".repeat(target.value):"["+customSimbol.value+"\\d]+"}(?!\\S)`;lenum.value=terribleLine,lenum.nextElementSibling.textContent=`${terribleLine} select ${parseInt(target.value)||""} number${"1"==target.value?"":"s"}(INT)`,target===customSimbol&&(radios.getElementsByTagName("INPUT")[6].checked=!0)}const reg=new RegExp(`${elem.value}`,"g");let array=area.value.match(reg)||[0];const sumOfArray=array.reduce((a,b)=>{const n1=a.toString().split(".")[1],n2=b.toString().split(".")[1],len1=n1&&n1.length||0,len2=n2&&n2.length||0;return parseFloat((parseFloat(a)+parseFloat(b)).toFixed(len1+len2))},0);output.textContent=0===array[0]&&1===array.length?array="":array,len.textContent=array.length,sum.textContent=sumOfArray,average.textContent=sumOfArray/array.length,e.stopPropagation()},copyTextToClipboard=async c=>{try{await navigator.clipboard.writeText(c),console.log("copied to clipboard")}catch(error){console.log("failed to copy to clipboard. error="+error)}};[extract,radios].forEach(e=>{addEventListener("click",e=>calculators(e))}),copyText.addEventListener("mouseup",()=>copyTextToClipboard(output.innerText)),[area,customSimbol].forEach(e=>{e.addEventListener("change",e=>calculators(e)),e.addEventListener("input",e=>calculators(e))})}();