!function(){"use strict";const e=e=>document.getElementById(e),t=e("main"),n=e("output"),a=e("statistics"),r=e("popup"),s=e("letters-cells"),o=e("search-button"),i=e=>new Promise((t=>setTimeout(t,e))),u=e=>e.classList.add("hides"),c=e=>e.classList.remove("hides"),l=e=>{const t=Number(e);return isNaN(t)?0:t};function m(e,t,n){const a=document.createElement(e);if(t&&(a.textContent=t),n)for(const e in n)a.setAttribute(e,n[e]);return a}function d(e,t){for(var n="!\"#$%&'()*+,-.:/;<=>?@[\\]^_`{|}~áéñü©®™°abcdefghijklmnopqrstuvwxyz0123456789",a=e,r=0;r<t;r++){var s=Math.floor(Math.random()*a.length),o=n.charAt(Math.floor(76*Math.random()));a=a.slice(0,s)+o+a.slice(s)}return a}function h(e,t){const n=e.slice(),a=[];for(!function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));if([e[t],e[n]]=[e[n],e[t]],e[t]===e[t-1]){let n=t-1;for(;n>0&&e[n]===e[t];)n--;[e[t],e[n]]=[e[n],e[t]]}}}(n);a.length<t&&n.length>0;){const e=n.pop();0!==a.length&&a[a.length-1]===e||a.push(e)}for(;a.length<t;){const t=e[Math.floor(Math.random()*e.length)];a.push(t)}return a.join("")}t.onclick=async t=>{if("submit"===t.target.id){const t=e("textInput"),u=e("word-length"),p=e("maximum-words"),f=e("random-characters").checked,g=e("max-time"),v=(e=>e.value.trim().replace(/[, ]/g,"").toUpperCase().split(""))(t),b=l(u.value),x=l(p.value),w=1e3*l(g.value);r.innerHTML="Please wait...",await C(0);const M=l(u.value);a.innerHTML="",n.innerHTML="";try{const e=await async function(e,t,n,a){const r=new Set,s=Date.now();for(;r.size<n&&Date.now()-s<a;){const n=h(e,t);r.add(n),await i(0)}return Array.from(r)}(v,b,x,w),t=e.length;a.appendChild(m("p",`Generated unique words: ${t}`)),e.forEach(((e,t)=>{const a=m("p",f?d(e,M):e,{class:"ok",id:"item"+t});n.appendChild(a)})),s.innerHTML="";for(let e=0;e<M;e++)s.appendChild(m("input","",{maxlength:1,size:2}));c(o),await L(0),o.onclick=()=>{a.innerHTML=n.innerHTML="";const t=(r=e,o=Array.from(s.getElementsByTagName("INPUT")).map((e=>e.value.toUpperCase()||".")).join(""),r.filter((e=>{if(e.length!==o.length)return!1;for(let t=0;t<e.length;t++)if("."!==o[t]&&o[t]!==e[t])return!1;return!0})));var r,o;t.forEach(((e,t)=>{const a=m("p",f?d(e,M):e,{class:"ok",id:"item"+t});n.appendChild(a)})),a.appendChild(m("p",`Found words: ${t.length}`))}}catch(e){console.error("Error generating unique words:",e)}}},n.addEventListener("click",(function(e){if("P"===e.target.tagName){var t=e.target.innerText||e.target.textContent,n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),r.innerHTML="Copied to clipboard: "+t,C(0),L(2e3)}}));const p=e=>e.querySelector("input"),f={min:1,max:100,number:0,numberMinus1(){return this.number-1},numberPlus1(){return this.number+1},set numbers(e){e>Math.abs(this.max||e<this.min)||(this.number=e)},get numbers(){return this.number}};Object.seal(f);let g=!1;async function v(e){g||(g=!0,e.classList.add("saved"),await i(500),await(()=>{const e=Array.from(y,(e=>p(e).value));localStorage.setItem("CInputValues",e.join(","))})(),e.classList.remove("saved"),g=!1)}const b=async e=>{e.classList.add("max"),await i(200),e.classList.remove("max")},x=e=>{const{target:t}=e;if("BUTTON"!==t.tagName)return;const{currentTarget:n}=e,a=p(n);if(f.numbers=parseInt(a.value),"—"===t.textContent){if(!((a.min||f.min)<f.numbers))return b(t);f.numbers=a.value=f.numberMinus1()}if("+"===t.textContent){if(!(parseInt(a.max||f.max)>f.numbers))return b(t);f.numbers=a.value=f.numberPlus1()}v(n.parentElement)},w=e=>{const{target:t}=e;isNaN(parseInt(t.value))||(Math.max(parseInt(t.min))||f.min)>parseInt(t.value)?t.value=t.min||f.min:(Math.max(parseInt(t.max))||f.max)<parseInt(t.value)&&(t.value=t.max||f.max),v(t.parentElement)},M=localStorage.getItem("CInputValues")&&localStorage.getItem("CInputValues").split(",").map(Number),y=document.querySelectorAll(".counter");async function C(e){await i(e),c(r)}async function L(e){await i(e),u(r)}y.forEach(((e,t)=>{const n=p(e);n.value=M&&M[t]||n.value||n.min||1,e.addEventListener("click",x),n.addEventListener("change",w)})),document.addEventListener("click",(function(e){e.target===r&&L(0)}))}();
