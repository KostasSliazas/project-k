!function(w,d){"use strict";const arr=["a","b","c","d","e","f","g","j","k","l"];let shuffleCards=getShuffledArr(arr.concat(arr));const documentFragment=d.createDocumentFragment(),gridContainer=d.getElementById("grid-container"),message=d.getElementById("message"),notice=d.getElementById("notice"),statistics=d.getElementById("statistics"),timers=d.getElementById("timers"),clicks=d.getElementById("clicks"),minutes=d.getElementById("minutes"),seconds=d.getElementById("seconds"),gameId="z7z",card={timer:0,data:null,card:null,clicks:0,cards:0};function getShuffledArr(arr){const newArr=arr.slice();for(let i=newArr.length-1;i>0;i--){const rand=Math.floor(Math.random()*(i+1));[newArr[i],newArr[rand]]=[newArr[rand],newArr[i]]}return newArr}function Elements(tagName,className,text){let that=this;return that=d.createElement(tagName),that.className=className,that.innerHTML=text,that}function timer(){let sec=0;function pad(val){return val>9?val:"0"+val}card.timer=setInterval((function(){seconds.innerHTML=pad(++sec%60),minutes.innerHTML=pad(parseInt(sec/60,10))}),1e3)}function getData(){const data=[];for(let i=0;i<w.localStorage.length;i++){const key=w.localStorage.key(i);key.includes("time-z7z")&&data.push(w.localStorage.getItem(key))}return data.sort((a,b)=>a.localeCompare(b)),data}function button(text){statistics.classList.add("hidden");const btn=new Elements("button","btn",text);btn.onclick=()=>{start(),message.style.display="none",statistics.classList.remove("hidden")},message.appendChild(btn)}function showData(){card.data.length&&(message.innerHTML+="<h3>Best score: "+card.data.shift()+"</h3>"),card.data.length>0&&(message.innerHTML+="<h3>Other scores: "+card.data.join(", ")+"</h3>")}function start(){w.localStorage.setItem("visitor-z7z",1),shuffleCards=getShuffledArr(arr.concat(arr)),shuffleCards.forEach(e=>{const ele=new Elements("DIV","wrpko",""),kor=new Elements("DIV","korta",""),gal=new Elements("DIV","galas "+e,""),pri=new Elements("DIV","priekis","");ele.appendChild(kor).appendChild(gal),kor.appendChild(pri),documentFragment.appendChild(ele)}),gridContainer.appendChild(documentFragment),timer(),minutes.innerHTML=seconds.innerHTML="00",clicks.innerHTML=card.clicks}function init(){card.data=getData(),showData(),button("Start")}d.addEventListener("click",e=>{const target=e.target;if(target.classList.contains("korta")){if(card.cards||(card.card=e.target),2===card.cards)return!1;++card.cards;const randomClass=Math.round(Math.random())>=.5?"pasukti":"pasukti1";if(target.className+=" "+randomClass,2===card.cards)if(card.clicks+=1,clicks.innerHTML=card.clicks,gridContainer.style.pointerEvents="none",card.card.firstChild.className===target.firstChild.className)setTimeout(()=>{target.classList.add("blur"),card.card.classList.add("blur"),card.cards=0,gridContainer.style.pointerEvents="auto",gridContainer.getElementsByClassName("blur").length===shuffleCards.length&&(clearInterval(card.timer),message.innerHTML=`<h2>Your time: ${timers.textContent}</h2>`,w.localStorage.setItem(`time-z7z${w.localStorage.length}`,timers.textContent),card.data=getData(),showData(),gridContainer.innerHTML="",button("Play again"),message.style.display="block",card.clicks=0)},300);else{let inter=setTimeout(()=>{clearTimeout(inter),inter=0,target.classList.remove(randomClass),card.card.className="korta",card.cards=0,gridContainer.style.pointerEvents="auto"},900)}}}),d.addEventListener("DOMContentLoaded",init),notice.className=null===w.localStorage.getItem("visitor-z7z")?"":"hidden"}(window,document);